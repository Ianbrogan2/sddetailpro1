<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Availability</title>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js"></script>
    <script type="module">
        // Firebase configuration and setup
        const firebaseConfig = {
            apiKey: "AIzaSyD1dRaAh9mTnHTcAu03ZDyr4sc_dS0yBt0",
            authDomain: "sd-detail-pro.firebaseapp.com",
            projectId: "sd-detail-pro",
            storageBucket: "sd-detail-pro.appspot.com",
            messagingSenderId: "950327198258",
            appId: "1:950327198258:web:1c5c749232c07783fef22b",
            measurementId: "G-DQ1MX7K35F"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(app);

        document.addEventListener('DOMContentLoaded', () => {
            const availabilityForm = document.getElementById('availability-form');
            const availabilityList = document.getElementById('availability-list');

            availabilityForm.addEventListener('submit', async (event) => {
                event.preventDefault();
                const date = document.getElementById('available-date').value;
                const startTime = document.getElementById('available-start-time').value;
                const endTime = document.getElementById('available-end-time').value;

                if (date && startTime && endTime) {
                    await db.collection('availability').add({
                        date,
                        startTime,
                        endTime
                    });
                    alert('Availability set successfully!');
                    loadAvailability();
                } else {
                    alert('Please fill out all fields
